{"ast":null,"code":"import{React,useState,useRef}from'react';import Popup from'reactjs-popup';import{useNavigate}from'react-router-dom';import'./Ride.css';import'reactjs-popup/dist/index.css';import NavBar from'./NavBar';import moment from'moment';import DatePicker from\"react-datepicker\";import\"react-datepicker/dist/react-datepicker.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function RequestRide(){const navigate=useNavigate();const[usingNow,setUsingNow]=useState(false);const[date,setDate]=useState(new Date());const[fieldsNotValid,setFieldsNotValid]=useState(true);const startRef=useRef();const endRef=useRef();const vehicleRef=useRef();const pickupRef=useRef();const nowRef=useRef();const handleFieldsChange=()=>{console.log(startRef.current.value);console.log(endRef.current.value);console.log(vehicleRef.current.value);console.log(pickupRef.current.value);console.log(nowRef.current.checked);var now=moment();if(nowRef.current.checked){setUsingNow(true);}else{setUsingNow(false);}var isValid=true;if(!startRef||startRef.current.value===''){isValid=false;}if(!endRef||endRef.current.value===''){isValid=false;}if(!vehicleRef||vehicleRef===''){isValid=false;}if(!nowRef.current.checked){if(!pickupRef||pickupRef.current.value===''||now.isAfter(pickupRef.current.value)){isValid=false;}}setFieldsNotValid(!isValid);};const dateIsInPast=date=>new Date()<date;const onCancelClick=()=>{navigate('/home');};const onOKClick=()=>{navigate('/home');};return/*#__PURE__*/_jsxs(\"div\",{className:'mainContainer',children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:'contentContainer',children:[/*#__PURE__*/_jsxs(\"div\",{className:'inputContainer',children:[/*#__PURE__*/_jsx(\"p\",{children:\"Start address:\"}),/*#__PURE__*/_jsx(\"input\",{className:'inputBox',ref:startRef,onChange:handleFieldsChange}),/*#__PURE__*/_jsx(\"button\",{className:'mapSearch',children:\"Search...\"}),/*#__PURE__*/_jsx(\"button\",{className:'mapSearch',children:\"My Location\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:'inputContainer',children:[/*#__PURE__*/_jsx(\"p\",{children:\"Destination:\"}),/*#__PURE__*/_jsx(\"input\",{className:'inputBox',ref:endRef,onChange:handleFieldsChange}),/*#__PURE__*/_jsx(\"button\",{className:'mapSearch',children:\"Search...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:'inputContainer',children:[/*#__PURE__*/_jsx(\"label\",{for:\"vehilce\",children:\"Vehicle Type\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"vehicle\",ref:vehicleRef,id:\"vehicle\",onChange:handleFieldsChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"car\",children:\"Car\"}),/*#__PURE__*/_jsx(\"option\",{value:\"truck\",children:\"Truck\"}),/*#__PURE__*/_jsx(\"option\",{value:\"van\",children:\"Van\"}),/*#__PURE__*/_jsx(\"option\",{value:\"shuttle\",children:\"Shuttle\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:'inputContainer',children:[/*#__PURE__*/_jsx(\"p\",{children:\"Pickup time:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"checkItem\",children:/*#__PURE__*/_jsxs(\"label\",{for:\"now\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",ref:nowRef,name:\"now\",onChange:handleFieldsChange}),\"Now\"]})}),/*#__PURE__*/_jsx(DatePicker,{ref:pickupRef,disabled:usingNow,showTimeSelect:true,filterDate:dateIsInPast,selected:date,onChange:date=>setDate(date),dateFormat:\"MMMM d, yyyy h:mmaa\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:'submitContainer',children:[/*#__PURE__*/_jsx(\"button\",{className:'mapSearch',onClick:onCancelClick,children:\"Cancel\"}),/*#__PURE__*/_jsxs(Popup,{trigger:/*#__PURE__*/_jsx(\"button\",{className:'mapSearch',disabled:fieldsNotValid,children:\"Submit\"}),modal:true,nested:true,className:'modal',children:[/*#__PURE__*/_jsx(\"p\",{children:\"Thank you, your ride is scheduled.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onOKClick,children:\"OK\"})]})]})]})]});}","map":{"version":3,"names":["React","useState","useRef","Popup","useNavigate","NavBar","moment","DatePicker","jsx","_jsx","jsxs","_jsxs","RequestRide","navigate","usingNow","setUsingNow","date","setDate","Date","fieldsNotValid","setFieldsNotValid","startRef","endRef","vehicleRef","pickupRef","nowRef","handleFieldsChange","console","log","current","value","checked","now","isValid","isAfter","dateIsInPast","onCancelClick","onOKClick","className","children","ref","onChange","for","name","id","type","disabled","showTimeSelect","filterDate","selected","dateFormat","onClick","trigger","modal","nested"],"sources":["/mnt/share/gmu/swe632/Jarvis/jarvis/src/RequestRide.js"],"sourcesContent":["import { React, useState, useRef } from 'react'\nimport Popup from 'reactjs-popup';\nimport { useNavigate } from 'react-router-dom'\nimport './Ride.css'\nimport 'reactjs-popup/dist/index.css'\nimport NavBar from './NavBar';\nimport moment from 'moment';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nexport default function RequestRide() {\n  const navigate = useNavigate()\n\n  const [usingNow, setUsingNow] = useState(false)\n  const [date, setDate] = useState(new Date());\n  const [fieldsNotValid, setFieldsNotValid] = useState(true)\n\n  const startRef = useRef()\n  const endRef = useRef()\n  const vehicleRef = useRef()\n  const pickupRef = useRef()\n  const nowRef = useRef()\n\n  const handleFieldsChange = () => {\n    console.log(startRef.current.value)\n    console.log(endRef.current.value)\n    console.log(vehicleRef.current.value)\n    console.log(pickupRef.current.value)\n    console.log(nowRef.current.checked)\n\n    var now = moment()\n\n    if (nowRef.current.checked) {\n      setUsingNow(true)\n    } else {\n      setUsingNow(false)\n    }\n\n    var isValid = true\n    if (!startRef || startRef.current.value === '') {\n      isValid = false\n    }\n    if (!endRef || endRef.current.value === '') {\n      isValid = false\n    }\n    if (!vehicleRef || vehicleRef === '') {\n      isValid = false\n    }\n    if (!nowRef.current.checked) {\n      if (!pickupRef || pickupRef.current.value === '' || now.isAfter(pickupRef.current.value)) {\n        isValid = false\n      }\n    }\n\n    setFieldsNotValid(!isValid)\n  }\n\n  const dateIsInPast = (date) => new Date() < date;\n\n  const onCancelClick = () => {\n    navigate('/home');\n  }\n\n  const onOKClick = () => {\n    navigate('/home');\n  }\n\n  return (\n    <div className={'mainContainer'}>\n      <NavBar />\n      <div className={'contentContainer'}>\n        <div className={'inputContainer'}>\n          <p>Start address:</p>\n          <input\n            className={'inputBox'}\n            ref={startRef}\n            onChange={handleFieldsChange}\n          />\n          <button className={'mapSearch'} >Search...</button>\n          <button className={'mapSearch'} >My Location</button>\n        </div>\n        <div className={'inputContainer'}>\n          <p>Destination:</p>\n          <input\n            className={'inputBox'}\n            ref={endRef}\n            onChange={handleFieldsChange}\n          />\n          <button className={'mapSearch'} >Search...</button>\n        </div>\n\n        <div className={'inputContainer'}>\n          <label for=\"vehilce\">Vehicle Type</label>\n\n          <select\n            name=\"vehicle\"\n            ref={vehicleRef}\n            id=\"vehicle\"\n            onChange={handleFieldsChange}>\n            <option value=\"car\">Car</option>\n            <option value=\"truck\">Truck</option>\n            <option value=\"van\">Van</option>\n            <option value=\"shuttle\">Shuttle</option>\n          </select>\n        </div>\n\n        <div className={'inputContainer'}>\n          <p>Pickup time:</p>\n          <div className=\"checkItem\">\n            <label for=\"now\"><input type=\"checkbox\" ref={nowRef} name=\"now\" onChange={handleFieldsChange} />\n              Now</label>\n          </div>\n          <DatePicker\n            ref={pickupRef}\n            disabled={usingNow}\n            showTimeSelect\n            filterDate={dateIsInPast}\n            selected={date}\n            onChange={(date) => setDate(date)}\n            dateFormat=\"MMMM d, yyyy h:mmaa\"\n          />\n        </div>\n\n        <div className={'submitContainer'}>\n          <button className={'mapSearch'} onClick={onCancelClick} >Cancel</button>\n          <Popup trigger=\n            {<button className={'mapSearch'} disabled={fieldsNotValid}>Submit</button>}\n            modal nested className={'modal'}>\n            <p>Thank you, your ride is scheduled.</p>\n            <button onClick={onOKClick}>OK</button>\n          </Popup>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}