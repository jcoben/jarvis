{"ast":null,"code":"import{React,useState,useRef}from'react';import Popup from'reactjs-popup';import{useNavigate}from'react-router-dom';import'./Ride.css';import'reactjs-popup/dist/index.css';import NavBar from'./NavBar';import moment from'moment';import DatePicker from\"react-datepicker\";import\"react-datepicker/dist/react-datepicker.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function RequestRide(){const navigate=useNavigate();const[source,setSource]=useState(\"\");const[destination,setDestination]=useState(\"\");const[usingNow,setUsingNow]=useState(false);const[date,setDate]=useState(new Date());const[fieldsNotValid,setFieldsNotValid]=useState(true);const startRef=useRef();const endRef=useRef();const vehicleRef=useRef();const pickupRef=useRef();const nowRef=useRef();const isSourceValid=()=>{return source!=='';};const isDestinationValid=()=>{return destination!=='';};const isTimeValid=()=>{var now=moment();return usingNow||now.isBefore(date);};const handleDateChange=date=>{setDate(date);handleFieldsChange();};const handleFieldsChange=()=>{console.log(startRef.current.value);console.log(endRef.current.value);console.log(vehicleRef.current.value);console.log(nowRef.current.checked);if(nowRef.current.checked){setUsingNow(true);}else{setUsingNow(false);}setSource(startRef.current.value);setDestination(endRef.current.value);setFieldsNotValid(!(isSourceValid()&&isDestinationValid()&&isTimeValid()));};const dateIsInPast=date=>new Date()<date;const onCancelClick=()=>{navigate('/home');};const onOKClick=()=>{navigate('/home');};return/*#__PURE__*/_jsxs(\"div\",{className:\"mainContainer\",children:[/*#__PURE__*/_jsx(NavBar,{titleString:\"Request a Ride\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"contentContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inputContainer\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"inputLabel\",children:\"Start address:\"}),/*#__PURE__*/_jsx(\"input\",{className:isSourceValid()?'required inputBox':'error inputBox',ref:startRef,onChange:handleFieldsChange}),/*#__PURE__*/_jsx(\"button\",{className:\"requestButton\",children:\"Search...\"}),/*#__PURE__*/_jsx(\"button\",{className:\"requestButton\",children:\"My Location\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputContainer\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"inputLabel\",children:\"Destination:\"}),/*#__PURE__*/_jsx(\"input\",{className:isDestinationValid()?'required inputBox':'error inputBox',ref:endRef,onChange:handleFieldsChange}),/*#__PURE__*/_jsx(\"button\",{className:\"requestButton\",children:\"Search...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputContainer\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"vehilce\",children:\"Vehicle Type:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"vehicle\",ref:vehicleRef,id:\"vehicle\",onChange:handleFieldsChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"car\",children:\"Car\"}),/*#__PURE__*/_jsx(\"option\",{value:\"truck\",children:\"Truck\"}),/*#__PURE__*/_jsx(\"option\",{value:\"van\",children:\"Van\"}),/*#__PURE__*/_jsx(\"option\",{value:\"shuttle\",children:\"Shuttle\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputContainer\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"inputLabel\",children:\"Pickup time:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"checkItem\",children:/*#__PURE__*/_jsxs(\"label\",{for:\"now\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",ref:nowRef,name:\"now\",onChange:handleFieldsChange,className:isTimeValid()?'required':'error'}),\"Now\"]})}),/*#__PURE__*/_jsx(\"p\",{children:\"-OR-\"}),/*#__PURE__*/_jsx(DatePicker,{ref:pickupRef,disabled:usingNow,showTimeSelect:true,filterDate:dateIsInPast,selected:date,onChange:date=>handleDateChange(date),dateFormat:\"MMMM d, yyyy h:mmaa\",className:isTimeValid()?\"required datePicker\":\"error datePicker\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"submitContainer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"cancelButton requestButton\",onClick:onCancelClick,children:\"Cancel\"}),/*#__PURE__*/_jsxs(Popup,{trigger:/*#__PURE__*/_jsx(\"button\",{className:\"requestButton\",disabled:fieldsNotValid,children:\"Submit\"}),modal:true,nested:true,className:\"modal\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Thank you, your ride is scheduled.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"requestButton\",onClick:onOKClick,children:\"OK\"})]})]})]})]});}","map":{"version":3,"names":["React","useState","useRef","Popup","useNavigate","NavBar","moment","DatePicker","jsx","_jsx","jsxs","_jsxs","RequestRide","navigate","source","setSource","destination","setDestination","usingNow","setUsingNow","date","setDate","Date","fieldsNotValid","setFieldsNotValid","startRef","endRef","vehicleRef","pickupRef","nowRef","isSourceValid","isDestinationValid","isTimeValid","now","isBefore","handleDateChange","handleFieldsChange","console","log","current","value","checked","dateIsInPast","onCancelClick","onOKClick","className","children","titleString","ref","onChange","for","name","id","type","disabled","showTimeSelect","filterDate","selected","dateFormat","onClick","trigger","modal","nested"],"sources":["/mnt/share/gmu/swe632/Jarvis/jarvis/src/RequestRide.js"],"sourcesContent":["import { React, useState, useRef } from 'react'\nimport Popup from 'reactjs-popup';\nimport { useNavigate } from 'react-router-dom'\nimport './Ride.css'\nimport 'reactjs-popup/dist/index.css'\nimport NavBar from './NavBar';\nimport moment from 'moment';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nexport default function RequestRide() {\n  const navigate = useNavigate()\n\n  const [source, setSource] = useState(\"\")\n  const [destination, setDestination] = useState(\"\")\n  const [usingNow, setUsingNow] = useState(false)\n  const [date, setDate] = useState(new Date())\n  const [fieldsNotValid, setFieldsNotValid] = useState(true)\n\n  const startRef = useRef()\n  const endRef = useRef()\n  const vehicleRef = useRef()\n  const pickupRef = useRef()\n  const nowRef = useRef()\n\n  const isSourceValid = () => {\n    return source !== ''\n  }\n\n  const isDestinationValid = () => {\n    return destination !== ''\n  }\n\n  const isTimeValid = () => {\n    var now = moment()\n\n    return usingNow || now.isBefore(date)\n  }\n\n  const handleDateChange = (date) => {\n    setDate(date)\n\n    handleFieldsChange()\n  }\n\n  const handleFieldsChange = () => {\n    console.log(startRef.current.value)\n    console.log(endRef.current.value)\n    console.log(vehicleRef.current.value)\n    console.log(nowRef.current.checked)\n\n    if (nowRef.current.checked) {\n      setUsingNow(true)\n    } else {\n      setUsingNow(false)\n    }\n\n    setSource(startRef.current.value)\n    setDestination(endRef.current.value)\n\n    setFieldsNotValid(!(isSourceValid() && isDestinationValid() && isTimeValid()))\n  }\n\n  const dateIsInPast = (date) => new Date() < date;\n\n  const onCancelClick = () => {\n    navigate('/home');\n  }\n\n  const onOKClick = () => {\n    navigate('/home');\n  }\n\n  return (\n    <div className='mainContainer'>\n      <NavBar titleString=\"Request a Ride\" />\n      <div className='contentContainer'>\n        <div className='inputContainer'>\n          <p className='inputLabel'>Start address:</p>\n          <input\n            className={isSourceValid() ? 'required inputBox' : 'error inputBox'}\n            ref={startRef}\n            onChange={handleFieldsChange}\n          />\n          <button className='requestButton' >Search...</button>\n          <button className='requestButton' >My Location</button>\n        </div>\n        <div className='inputContainer'>\n          <p className='inputLabel'>Destination:</p>\n          <input\n            className={isDestinationValid() ? 'required inputBox' : 'error inputBox'}\n            ref={endRef}\n            onChange={handleFieldsChange}\n          />\n          <button className='requestButton' >Search...</button>\n        </div>\n\n        <div className='inputContainer'>\n          <label for=\"vehilce\">Vehicle Type:</label>\n\n          <select\n            name=\"vehicle\"\n            ref={vehicleRef}\n            id=\"vehicle\"\n            onChange={handleFieldsChange}>\n            <option value=\"car\">Car</option>\n            <option value=\"truck\">Truck</option>\n            <option value=\"van\">Van</option>\n            <option value=\"shuttle\">Shuttle</option>\n          </select>\n        </div>\n\n        <div className='inputContainer'>\n          <p className='inputLabel'>Pickup time:</p>\n          <div className=\"checkItem\">\n            <label for=\"now\">\n              <input type=\"checkbox\" ref={nowRef} name=\"now\" onChange={handleFieldsChange} className={isTimeValid() ? 'required' : 'error'} />\n              Now\n            </label>\n          </div>\n          <p>-OR-</p>\n          <DatePicker\n            ref={pickupRef}\n            disabled={usingNow}\n            showTimeSelect\n            filterDate={dateIsInPast}\n            selected={date}\n            onChange={(date) => handleDateChange(date)}\n            dateFormat=\"MMMM d, yyyy h:mmaa\"\n            className={isTimeValid() ? \"required datePicker\" : \"error datePicker\"}\n          />\n        </div>\n\n        <div className='submitContainer'>\n          <button className='cancelButton requestButton' onClick={onCancelClick} >Cancel</button>\n          <Popup trigger=\n            {<button className='requestButton' disabled={fieldsNotValid}>Submit</button>}\n            modal nested className='modal'>\n            <p>Thank you, your ride is scheduled.</p>\n            <button className='requestButton' onClick={onOKClick}>OK</button>\n          </Popup>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}